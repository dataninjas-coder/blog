<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>[WPF] Creating parameterized styles with attached properties | Thomas Levesque .NET Blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.69.2" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css" rel="stylesheet">
    

    

    
      
    

    
    
    <meta property="og:title" content="[WPF] Creating parameterized styles with attached properties" />
<meta property="og:description" content="Today I&rsquo;d like to share a trick that I used quite often in the past few months. Let&rsquo;s assume that in order to improve the look of your application, you created custom styles for the standard controls: OK, I&rsquo;m not a designer&hellip; but it will serve the purpose well enough to illustrate my point ;). These styles are very simple, they&rsquo;re just the default styles of CheckBox and RadioButton in which I only changed the templates to replace the BulletChromes with these awesome blue tick marks." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog2.thomaslevesque.net/2011/10/01/wpf-creating-parameterized-styles-with-attached-properties/" />
<meta property="article:published_time" content="2011-10-01T00:00:00+00:00" />
<meta property="article:modified_time" content="2011-10-01T00:00:00+00:00" />
<meta itemprop="name" content="[WPF] Creating parameterized styles with attached properties">
<meta itemprop="description" content="Today I&rsquo;d like to share a trick that I used quite often in the past few months. Let&rsquo;s assume that in order to improve the look of your application, you created custom styles for the standard controls: OK, I&rsquo;m not a designer&hellip; but it will serve the purpose well enough to illustrate my point ;). These styles are very simple, they&rsquo;re just the default styles of CheckBox and RadioButton in which I only changed the templates to replace the BulletChromes with these awesome blue tick marks.">
<meta itemprop="datePublished" content="2011-10-01T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2011-10-01T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="900">



<meta itemprop="keywords" content="attached property,style,template,WPF," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[WPF] Creating parameterized styles with attached properties"/>
<meta name="twitter:description" content="Today I&rsquo;d like to share a trick that I used quite often in the past few months. Let&rsquo;s assume that in order to improve the look of your application, you created custom styles for the standard controls: OK, I&rsquo;m not a designer&hellip; but it will serve the purpose well enough to illustrate my point ;). These styles are very simple, they&rsquo;re just the default styles of CheckBox and RadioButton in which I only changed the templates to replace the BulletChromes with these awesome blue tick marks."/>

  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://blog2.thomaslevesque.net/" class="f3 fw2 hover-white no-underline white-90 dib">
      Thomas Levesque .NET Blog
    </a>
    <div class="flex-l items-center">
      

      
      














    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://blog2.thomaslevesque.net/2011/10/01/wpf-creating-parameterized-styles-with-attached-properties/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://blog2.thomaslevesque.net/2011/10/01/wpf-creating-parameterized-styles-with-attached-properties/&amp;text=[WPF]%20Creating%20parameterized%20styles%20with%20attached%20properties" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://blog2.thomaslevesque.net/2011/10/01/wpf-creating-parameterized-styles-with-attached-properties/&amp;title=[WPF]%20Creating%20parameterized%20styles%20with%20attached%20properties" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>

      <h1 class="f1 athelas mt3 mb1">[WPF] Creating parameterized styles with attached properties</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2011-10-01T00:00:00Z">October 1, 2011</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><p>Today I&rsquo;d like to share a trick that I used quite often in the past few months. Let&rsquo;s assume that in order to improve the look of your application, you created custom styles for the standard controls:  <img src="parameterized_styles11.png" alt="">  OK, I&rsquo;m not a designer&hellip; but it will serve the purpose well enough to illustrate my point ;). These styles are very simple, they&rsquo;re just the default styles of <code>CheckBox</code> and <code>RadioButton</code> in which I only changed the templates to replace the <code>BulletChrome</code>s with these awesome blue tick marks. Here&rsquo;s the code:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">        <span style="color:#f92672">&lt;Style</span> <span style="color:#a6e22e">x:Key=</span><span style="color:#e6db74">&#34;{x:Type CheckBox}&#34;</span> <span style="color:#a6e22e">TargetType=</span><span style="color:#e6db74">&#34;{x:Type CheckBox}&#34;</span><span style="color:#f92672">&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Foreground&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Background&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{StaticResource CheckBoxFillNormal}&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;BorderBrush&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{StaticResource CheckBoxStroke}&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;BorderThickness&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;FocusVisualStyle&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{StaticResource EmptyCheckBoxFocusVisual}&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Template&#34;</span><span style="color:#f92672">&gt;</span>
                <span style="color:#f92672">&lt;Setter.Value&gt;</span>
                    <span style="color:#f92672">&lt;ControlTemplate</span> <span style="color:#a6e22e">TargetType=</span><span style="color:#e6db74">&#34;{x:Type CheckBox}&#34;</span><span style="color:#f92672">&gt;</span>
                        <span style="color:#f92672">&lt;BulletDecorator</span> <span style="color:#a6e22e">Background=</span><span style="color:#e6db74">&#34;Transparent&#34;</span>
                                         <span style="color:#a6e22e">SnapsToDevicePixels=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
                            <span style="color:#f92672">&lt;BulletDecorator.Bullet&gt;</span>
                                <span style="color:#f92672">&lt;Border</span> <span style="color:#a6e22e">BorderBrush=</span><span style="color:#e6db74">&#34;{TemplateBinding BorderBrush}&#34;</span>
                                        <span style="color:#a6e22e">Background=</span><span style="color:#e6db74">&#34;{TemplateBinding Background}&#34;</span>
                                        <span style="color:#a6e22e">BorderThickness=</span><span style="color:#e6db74">&#34;1&#34;</span>
                                        <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;11&#34;</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;11&#34;</span> <span style="color:#a6e22e">Margin=</span><span style="color:#e6db74">&#34;0,1,0,0&#34;</span><span style="color:#f92672">&gt;</span>
                                    <span style="color:#f92672">&lt;Grid&gt;</span>
                                        <span style="color:#f92672">&lt;Path</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;TickMark&#34;</span>
                                              <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;Blue&#34;</span>
                                              <span style="color:#a6e22e">Data=</span><span style="color:#e6db74">&#34;M0,4 5,9 9,0 4,5&#34;</span>
                                              <span style="color:#a6e22e">Visibility=</span><span style="color:#e6db74">&#34;Hidden&#34;</span> <span style="color:#f92672">/&gt;</span>
                                        <span style="color:#f92672">&lt;Rectangle</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;IndeterminateMark&#34;</span>
                                                   <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;Blue&#34;</span>
                                                   <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;7&#34;</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;7&#34;</span>
                                                   <span style="color:#a6e22e">HorizontalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span>
                                                   <span style="color:#a6e22e">VerticalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span>
                                                   <span style="color:#a6e22e">Visibility=</span><span style="color:#e6db74">&#34;Hidden&#34;</span> <span style="color:#f92672">/&gt;</span>
                                    <span style="color:#f92672">&lt;/Grid&gt;</span>
                                <span style="color:#f92672">&lt;/Border&gt;</span>
                            <span style="color:#f92672">&lt;/BulletDecorator.Bullet&gt;</span>
                            <span style="color:#f92672">&lt;ContentPresenter</span> <span style="color:#a6e22e">HorizontalAlignment=</span><span style="color:#e6db74">&#34;{TemplateBinding HorizontalContentAlignment}&#34;</span>
                                              <span style="color:#a6e22e">Margin=</span><span style="color:#e6db74">&#34;{TemplateBinding Padding}&#34;</span>
                                              <span style="color:#a6e22e">RecognizesAccessKey=</span><span style="color:#e6db74">&#34;True&#34;</span>
                                              <span style="color:#a6e22e">SnapsToDevicePixels=</span><span style="color:#e6db74">&#34;{TemplateBinding SnapsToDevicePixels}&#34;</span>
                                              <span style="color:#a6e22e">VerticalAlignment=</span><span style="color:#e6db74">&#34;{TemplateBinding VerticalContentAlignment}&#34;</span><span style="color:#f92672">/&gt;</span>
                        <span style="color:#f92672">&lt;/BulletDecorator&gt;</span>
                        <span style="color:#f92672">&lt;ControlTemplate.Triggers&gt;</span>
                            <span style="color:#f92672">&lt;Trigger</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;HasContent&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;FocusVisualStyle&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{StaticResource CheckRadioFocusVisual}&#34;</span><span style="color:#f92672">/&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Padding&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;4,0,0,0&#34;</span><span style="color:#f92672">/&gt;</span>
                            <span style="color:#f92672">&lt;/Trigger&gt;</span>
                            <span style="color:#f92672">&lt;Trigger</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;IsEnabled&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Foreground&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}&#34;</span><span style="color:#f92672">/&gt;</span>
                            <span style="color:#f92672">&lt;/Trigger&gt;</span>
                            <span style="color:#f92672">&lt;Trigger</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;IsChecked&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;True&#34;</span><span style="color:#f92672">&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">TargetName=</span><span style="color:#e6db74">&#34;TickMark&#34;</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Visibility&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;Visible&#34;</span> <span style="color:#f92672">/&gt;</span>
                            <span style="color:#f92672">&lt;/Trigger&gt;</span>
                            <span style="color:#f92672">&lt;Trigger</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;IsChecked&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{x:Null}&#34;</span><span style="color:#f92672">&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">TargetName=</span><span style="color:#e6db74">&#34;IndeterminateMark&#34;</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Visibility&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;Visible&#34;</span> <span style="color:#f92672">/&gt;</span>
                            <span style="color:#f92672">&lt;/Trigger&gt;</span>
                        <span style="color:#f92672">&lt;/ControlTemplate.Triggers&gt;</span>
                    <span style="color:#f92672">&lt;/ControlTemplate&gt;</span>
                <span style="color:#f92672">&lt;/Setter.Value&gt;</span>
            <span style="color:#f92672">&lt;/Setter&gt;</span>
        <span style="color:#f92672">&lt;/Style&gt;</span>
        <span style="color:#f92672">&lt;Style</span> <span style="color:#a6e22e">x:Key=</span><span style="color:#e6db74">&#34;{x:Type RadioButton}&#34;</span> <span style="color:#a6e22e">TargetType=</span><span style="color:#e6db74">&#34;{x:Type RadioButton}&#34;</span><span style="color:#f92672">&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Foreground&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Background&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;#F4F4F4&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;BorderBrush&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{StaticResource CheckBoxStroke}&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;BorderThickness&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Template&#34;</span><span style="color:#f92672">&gt;</span>
                <span style="color:#f92672">&lt;Setter.Value&gt;</span>
                    <span style="color:#f92672">&lt;ControlTemplate</span> <span style="color:#a6e22e">TargetType=</span><span style="color:#e6db74">&#34;{x:Type RadioButton}&#34;</span><span style="color:#f92672">&gt;</span>
                        <span style="color:#f92672">&lt;BulletDecorator</span> <span style="color:#a6e22e">Background=</span><span style="color:#e6db74">&#34;Transparent&#34;</span><span style="color:#f92672">&gt;</span>
                            <span style="color:#f92672">&lt;BulletDecorator.Bullet&gt;</span>
                                <span style="color:#f92672">&lt;Grid</span> <span style="color:#a6e22e">VerticalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span> <span style="color:#a6e22e">Margin=</span><span style="color:#e6db74">&#34;0,1,0,0&#34;</span><span style="color:#f92672">&gt;</span>
                                    <span style="color:#f92672">&lt;Ellipse</span> <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;11&#34;</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;11&#34;</span>
                                             <span style="color:#a6e22e">Stroke=</span><span style="color:#e6db74">&#34;{TemplateBinding BorderBrush}&#34;</span>
                                             <span style="color:#a6e22e">StrokeThickness=</span><span style="color:#e6db74">&#34;1&#34;</span>
                                             <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;{TemplateBinding Background}&#34;</span> <span style="color:#f92672">/&gt;</span>
                                    <span style="color:#f92672">&lt;Ellipse</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;TickMark&#34;</span>
                                             <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;7&#34;</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;7&#34;</span>
                                             <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;Blue&#34;</span>
                                             <span style="color:#a6e22e">Visibility=</span><span style="color:#e6db74">&#34;Hidden&#34;</span> <span style="color:#f92672">/&gt;</span>
                                    <span style="color:#f92672">&lt;Ellipse</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;IndeterminateMark&#34;</span>
                                             <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;3&#34;</span>
                                             <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;Blue&#34;</span>
                                             <span style="color:#a6e22e">Visibility=</span><span style="color:#e6db74">&#34;Hidden&#34;</span> <span style="color:#f92672">/&gt;</span>
                                <span style="color:#f92672">&lt;/Grid&gt;</span>
                            <span style="color:#f92672">&lt;/BulletDecorator.Bullet&gt;</span>
                            <span style="color:#f92672">&lt;ContentPresenter</span> <span style="color:#a6e22e">HorizontalAlignment=</span><span style="color:#e6db74">&#34;{TemplateBinding HorizontalContentAlignment}&#34;</span>
                                              <span style="color:#a6e22e">Margin=</span><span style="color:#e6db74">&#34;{TemplateBinding Padding}&#34;</span>
                                              <span style="color:#a6e22e">RecognizesAccessKey=</span><span style="color:#e6db74">&#34;True&#34;</span>
                                              <span style="color:#a6e22e">VerticalAlignment=</span><span style="color:#e6db74">&#34;{TemplateBinding VerticalContentAlignment}&#34;</span><span style="color:#f92672">/&gt;</span>
                        <span style="color:#f92672">&lt;/BulletDecorator&gt;</span>
                        <span style="color:#f92672">&lt;ControlTemplate.Triggers&gt;</span>
                            <span style="color:#f92672">&lt;Trigger</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;HasContent&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;FocusVisualStyle&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{StaticResource CheckRadioFocusVisual}&#34;</span><span style="color:#f92672">/&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Padding&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;4,0,0,0&#34;</span><span style="color:#f92672">/&gt;</span>
                            <span style="color:#f92672">&lt;/Trigger&gt;</span>
                            <span style="color:#f92672">&lt;Trigger</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;IsEnabled&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Foreground&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}&#34;</span><span style="color:#f92672">/&gt;</span>
                            <span style="color:#f92672">&lt;/Trigger&gt;</span>
                            <span style="color:#f92672">&lt;Trigger</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;IsChecked&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;True&#34;</span><span style="color:#f92672">&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">TargetName=</span><span style="color:#e6db74">&#34;TickMark&#34;</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Visibility&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;Visible&#34;</span> <span style="color:#f92672">/&gt;</span>
                            <span style="color:#f92672">&lt;/Trigger&gt;</span>
                            <span style="color:#f92672">&lt;Trigger</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;IsChecked&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;{x:Null}&#34;</span><span style="color:#f92672">&gt;</span>
                                <span style="color:#f92672">&lt;Setter</span> <span style="color:#a6e22e">TargetName=</span><span style="color:#e6db74">&#34;IndeterminateMark&#34;</span> <span style="color:#a6e22e">Property=</span><span style="color:#e6db74">&#34;Visibility&#34;</span> <span style="color:#a6e22e">Value=</span><span style="color:#e6db74">&#34;Visible&#34;</span> <span style="color:#f92672">/&gt;</span>
                            <span style="color:#f92672">&lt;/Trigger&gt;</span>
                        <span style="color:#f92672">&lt;/ControlTemplate.Triggers&gt;</span>
                    <span style="color:#f92672">&lt;/ControlTemplate&gt;</span>
                <span style="color:#f92672">&lt;/Setter.Value&gt;</span>
            <span style="color:#f92672">&lt;/Setter&gt;</span>
        <span style="color:#f92672">&lt;/Style&gt;</span>
</code></pre></div><p>OK, so you now have beautiful controls that are going to make the app a big success, management is happy, everything is for the best&hellip; until you realize that in another view of the application, the controls need to have the same style, but with green tick marks!  The first solution that comes to mind is to duplicate the style, and replace blue with green in the copy. But since you&rsquo;re a good developer who cares about best practices, you know that duplicate code is evil: if you ever need to make changes to the style of the blue <code>CheckBox</code>, you will also have to modify the green one&hellip; and perhaps the red one, and the black one, etc. Clearly it would soon become unmanageable. So we need to refactor, but how? Ideally we would pass parameters to the style, but a style is not a method that you can call with various parameters&hellip;  What we need is an extra property that controls the color of the tick marks, so we can bind to this property in the template. A possible approach is to create custom controls that inherit <code>CheckBox</code> and <code>RadioButton</code>, with an extra <code>TickBrush</code> property&hellip; but personnally I don&rsquo;t really like this approach, I always prefer to use the built-in controls when they can fit the bill.  Anyway, there is an easier solution: we just need to create a <code>ThemeProperties</code> class with an attached property of type <code>Brush</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ThemeProperties</span>
    {
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Brush GetTickBrush(DependencyObject obj)
        {
            <span style="color:#66d9ef">return</span> (Brush)obj.GetValue(TickBrushProperty);
        }

        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> SetTickBrush(DependencyObject obj, Brush <span style="color:#66d9ef">value</span>)
        {
            obj.SetValue(TickBrushProperty, <span style="color:#66d9ef">value</span>);
        }

        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">readonly</span> DependencyProperty TickBrushProperty =
            DependencyProperty.RegisterAttached(
                <span style="color:#e6db74">&#34;TickBrush&#34;</span>,
                <span style="color:#66d9ef">typeof</span>(Brush),
                <span style="color:#66d9ef">typeof</span>(ThemeProperties),
                <span style="color:#66d9ef">new</span> FrameworkPropertyMetadata(Brushes.Black));
    }
</code></pre></div><p>We change the templates a bit to replace the hard-coded color with a binding to this property:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">                                ...

                                <span style="color:#75715e">&lt;!-- CheckBox --&gt;</span>
                                        <span style="color:#f92672">&lt;Path</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;TickMark&#34;</span>
                                              <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;{TemplateBinding my:ThemeProperties.TickBrush}&#34;</span>
                                              <span style="color:#a6e22e">Data=</span><span style="color:#e6db74">&#34;M0,4 5,9 9,0 4,5&#34;</span>
                                              <span style="color:#a6e22e">Visibility=</span><span style="color:#e6db74">&#34;Hidden&#34;</span> <span style="color:#f92672">/&gt;</span>
                                        <span style="color:#f92672">&lt;Rectangle</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;IndeterminateMark&#34;</span>
                                                   <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;{TemplateBinding my:ThemeProperties.TickBrush}&#34;</span>
                                                   <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;7&#34;</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;7&#34;</span>
                                                   <span style="color:#a6e22e">HorizontalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span>
                                                   <span style="color:#a6e22e">VerticalAlignment=</span><span style="color:#e6db74">&#34;Center&#34;</span>
                                                   <span style="color:#a6e22e">Visibility=</span><span style="color:#e6db74">&#34;Hidden&#34;</span> <span style="color:#f92672">/&gt;</span>

                                ...

                                <span style="color:#75715e">&lt;!-- RadioButton --&gt;</span>
                                    <span style="color:#f92672">&lt;Ellipse</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;TickMark&#34;</span>
                                             <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;7&#34;</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;7&#34;</span>
                                             <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;{TemplateBinding my:ThemeProperties.TickBrush}&#34;</span>
                                             <span style="color:#a6e22e">Visibility=</span><span style="color:#e6db74">&#34;Hidden&#34;</span> <span style="color:#f92672">/&gt;</span>
                                    <span style="color:#f92672">&lt;Ellipse</span> <span style="color:#a6e22e">Name=</span><span style="color:#e6db74">&#34;IndeterminateMark&#34;</span>
                                             <span style="color:#a6e22e">Width=</span><span style="color:#e6db74">&#34;3&#34;</span> <span style="color:#a6e22e">Height=</span><span style="color:#e6db74">&#34;3&#34;</span>
                                             <span style="color:#a6e22e">Fill=</span><span style="color:#e6db74">&#34;{TemplateBinding my:ThemeProperties.TickBrush}&#34;</span>
                                             <span style="color:#a6e22e">Visibility=</span><span style="color:#e6db74">&#34;Hidden&#34;</span> <span style="color:#f92672">/&gt;</span>
</code></pre></div><p>And when we use the controls, we set the property to the desired tick color:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;CheckBox</span> <span style="color:#a6e22e">Content=</span><span style="color:#e6db74">&#34;Checked&#34;</span> <span style="color:#a6e22e">IsChecked=</span><span style="color:#e6db74">&#34;True&#34;</span> <span style="color:#a6e22e">my:ThemeProperties.TickBrush=</span><span style="color:#e6db74">&#34;Blue&#34;</span> <span style="color:#f92672">/&gt;</span>
</code></pre></div><p>So we can now have controls that share the same style, but have different colors for the tick mark:  <img src="parameterized_styles42.png" alt="">  Isn&rsquo;t it great? However there is a small problem left: since controls on the same view all use the same tick color, it&rsquo;s not very convenient to repeat the color on each one. It would be nice to be able to specify the color just once, on the root of the view&hellip; Well, as it happens, dependency properties have a nice feature that allows to do exactly that: value inheritance. We just need to specify the <code>Inherits</code> flag in the declaration of the <code>TickBrush</code> property:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-csharp" data-lang="csharp">        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">readonly</span> DependencyProperty TickBrushProperty =
            DependencyProperty.RegisterAttached(
                <span style="color:#e6db74">&#34;TickBrush&#34;</span>,
                <span style="color:#66d9ef">typeof</span>(Brush),
                <span style="color:#66d9ef">typeof</span>(ThemeProperties),
                <span style="color:#66d9ef">new</span> FrameworkPropertyMetadata(Brushes.Black, FrameworkPropertyMetadataOptions.Inherits));
</code></pre></div><p>With this flag, the property becomes &ldquo;ambient&rdquo;: we only need to specify its value on a parent control, and all descendant controls will automatically inherit the value. So if you need a view where all the checkboxes and radiobuttons are red, just set the <code>TickBrush</code> property to <code>Red</code> on the root element of the view.  Obviously this concept can be extended to other cases: actually, every time an element of the template must change based on arbitrary criteria, this technique can be used. It can be a good alternative to duplicating a template when you only need to change a small part of it.</p>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/attached-property" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">attached property</a>
   </li>
  
   <li class="list">
     <a href="/tags/style" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">style</a>
   </li>
  
   <li class="list">
     <a href="/tags/template" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">template</a>
   </li>
  
   <li class="list">
     <a href="/tags/wpf" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">WPF</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/2009/08/23/wpf-markup-extensions-and-templates/">[WPF] Markup extensions and templates</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/08/04/wpf-automatically-sort-a-gridview-continued/">[WPF] Automatically sort a GridView (continued)</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/03/27/wpf-automatically-sort-a-gridview-when-a-column-header-is-clicked/">[WPF] Automatically sort a GridView when a column header is clicked</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2011/09/23/wpf-4-5-subscribing-to-an-event-using-a-markup-extension/">[WPF 4.5] Subscribing to an event using a markup extension</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2011/03/27/wpf-display-an-animated-gif-image/">[WPF] Display an animated GIF image</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2011/03/21/wpf-how-to-bind-to-data-when-the-datacontext-is-not-inherited/">[WPF] How to bind to data when the DataContext is not inherited</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2010/07/20/wpf-a-simpler-grid-using-xaml-attribute-syntax/">[WPF] A simpler Grid using XAML attribute syntax</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/10/26/vs2010-binding-support-in-inputbindings/">[VS2010] Binding support in InputBindings</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/07/28/wpf-a-markup-extension-that-can-update-its-target/">[WPF] A markup extension that can update its target</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/04/17/wpf-binding-to-an-asynchronous-collection/">[WPF] Binding to an asynchronous collection</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/03/17/wpf-using-inputbindings-with-the-mvvm-pattern/">[WPF] Using InputBindings with the MVVM pattern</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/02/25/wpf-article-about-model-view-viewmodel-design-pattern-by-josh-smith/">[WPF] Article about the Model-View-ViewModel design pattern, by Josh Smith</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/02/13/build-an-rss-reader-in-5-minutes/">Build an RSS reader in 5 minutes</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2009/02/05/wpf-paste-an-image-from-the-clipboard/">[WPF] Paste an image from the clipboard (bug in Clipboard.GetImage)</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/2008/11/18/wpf-binding-to-application-settings-using-a-markup-extension/">[WPF] Binding to application settings using a markup extension</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://blog2.thomaslevesque.net/" >
    &copy;  Thomas Levesque .NET Blog 2020 
  </a>
    <div>













</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
